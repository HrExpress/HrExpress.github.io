<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Зап9ро8сы</title>
	<link href="/HrExpress.ico" rel="shortcut icon" type="image/x-icon" />
	<link href="/Content/Normal.css" rel="stylesheet" />
</head>
<body id="broot">

	<!-- header -->

	<nav>
		<div class="logo">
			<a href="/">Ex5  press</a>
		</div>
		<div class="hr"></div>

		<ul>
			<li><a href="/Companies.html">Компании</a></li>
			<li><a href="/Requests.html">Запросы</a></li>
			<li><a href="/Vacancies.html">Вакансии</a></li>
			<li><a href="/Candidates.html">Кандидаты</a></li>
		</ul>
		<div class="hr"></div>
		<ul>
			<li data-bind="with: User"><a data-bind="text: Name, attr:{href:'/User.html?'+ID}"></a></li>
			<li><a id="logout" href="#" data-bind="click: Logout">Выйти</a></li>
		</ul>

	</nav>

	<!-- header -->
	<main data-bind="with: PageViewModel">
		<header>
			<h1 class="navbar-brand" href="#">Зап9ро8сы</h1>
			<a href="/Request.html?create">Создать новый</a>
		</header>

		<div class="toolbar">
			<h3>Фильтр</h3>
			<ul>
				<li><input data-bind="textInput: Filter.Context" class="control" type="text" placeholder="Название, текст, контакты..." /></li>
				<li><label><input type="checkbox" data-bind="checked: Filter.InProgress" /> в работе</label></li>
			</ul>
			<button data-bind="click: SubmitFilter">Применить</button>
		</div>

		<div style="margin:4px">
			<table>
				<thead>
					<tr>
						<th>Название</th>
						<th>Текст</th>
						<th>Контакты</th>
						<th></th>
					</tr>
				</thead>
				<tbody>
					<!-- ko foreach: Items -->
					<tr>
						<td><a href="#" data-bind="text: Name, attr: { href:'/Request.html?' + ID }"></a></td>
						<td><span data-bind="text: Text"></span></td>
						<td><span data-bind="text: Contacts"></span></td>
						<td></td>
					</tr>
					<!-- /ko -->
				</tbody>
			</table>
		</div>
	</main>

	<!-- footer -->

	<footer>
		&copy; 2018
		<!--<div data-bind="text: ko.toJSON(app.ViewModel)"></div>-->
	</footer>

	<!-- footer -->

	<section>
	</section>

	<!-- scripts -->

	<script src="/Scripts/knockout-3.4.2.debug.js" type="text/javascript"></script>
	<script src="/Scripts/app.js" type="text/javascript"></script>

	<!-- scripts -->
	<script src="/Scripts/Requests.js" type="text/javascript"></script>

	<!-- init -->

	<script>
		var init = function () {
			app.ViewModel.PageViewModel = new PageViewModel();
			ko.applyBindings(app.ViewModel, document.getElementById("broot"));
			app.ViewModel.Init();
			test.Init();
		};

		if (document.readyState !== 'loading')
			init();
		else
			document.addEventListener('DOMContentLoaded', init);
	</script>

	<!-- init -->

</body>
</html>
